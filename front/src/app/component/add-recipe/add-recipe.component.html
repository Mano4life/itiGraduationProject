<div class="container mt-5">
  <form [formGroup]="recipeForm" class="row" (submit)="onSubmission()">
    <h1 class="h3 text-center fw-bold text-uppercase mb-4 col-12">add a new recipe</h1>
    <div class="mb-3 col-12">
      <label for="name-field" class="text-capitalize mb-2">name:</label>
      <input
        type="text"
        class="form-control"
        id="name-field"
        placeholder="Name"
        formControlName="name"
      />
      @if(recipeForm.controls['name'].invalid && recipeForm.controls['name'].touched){
      <p class="text-danger fw-bold ms-1">name is not valid</p>
      }@else if (recipeForm.controls['name'].valid && recipeForm.controls['name'].touched) {
      <p class="text-success">name is valid</p>
      }
    </div>
    <div class="mb-3 col-lg-6">
      <label for="description-field" class="text-capitalize mb-2">description:</label>
      <textarea
        class="form-control"
        id="description-field"
        placeholder="description..."
        formControlName="description"
        rows="10"
      ></textarea>
      @if(recipeForm.controls['description'].invalid && recipeForm.controls['description'].touched){
      <p class="text-danger fw-bold ms-1">description is not valid</p>
      }@else if (recipeForm.controls['description'].valid && recipeForm.controls['description'].touched) {
      <p class="text-success">description is valid</p>
      }
    </div>
    <div class="mb-3 col-lg-6">
      <label for="directions-field" class="text-capitalize mb-2">directions:</label>
      <textarea
        class="form-control"
        id="directions-field"
        placeholder="directions..."
        formControlName="directions"
        rows="10"
      ></textarea>
      @if(recipeForm.controls['directions'].invalid && recipeForm.controls['directions'].touched){
      <p class="text-danger fw-bold ms-1">directions is not valid</p>
      }@else if (recipeForm.controls['directions'].valid && recipeForm.controls['directions'].touched) {
      <p class="text-success">directions is valid</p>
      }
    </div>
    <div class="mb-3">
      <label for="image-field" class="text-capitalize mb-2">image:</label>
      <input
        type="text"
        class="form-control"
        id="image-field"
        placeholder="image"
        formControlName="image"
      />
      @if(recipeForm.controls['image'].invalid && recipeForm.controls['image'].touched){
      <p class="text-danger fw-bold ms-1">image is not valid</p>
      }@else if (recipeForm.controls['image'].valid && recipeForm.controls['image'].touched) {
      <p class="text-success">image is valid</p>
      }
    </div>
    <div class="mb-3">
      <label for="category-field" class="text-capitalize mb-2">category:</label>
      <input
        type="text"
        class="form-control"
        id="category-field"
        placeholder="category..."
        formControlName="category"
      />
      @if(recipeForm.controls['category'].invalid && recipeForm.controls['category'].touched){
      <p class="text-danger fw-bold ms-1">category is not valid</p>
      }@else if (recipeForm.controls['category'].valid && recipeForm.controls['category'].touched) {
      <p class="text-success">category is valid</p>
      }
    </div>
    <div class="mb-3">
      <label for="subcategory-field" class="text-capitalize mb-2">subcategory:</label>
      <input
        type="text"
        class="form-control"
        id="subcategory-field"
        placeholder="subcategory..."
        formControlName="subcategory"
      />
      @if(recipeForm.controls['subcategory'].invalid && recipeForm.controls['subcategory'].touched){
      <p class="text-danger fw-bold ms-1">subcategory is not valid</p>
      }@else if (recipeForm.controls['subcategory'].valid && recipeForm.controls['subcategory'].touched) {
      <p class="text-success">subcategory is valid</p>
      }
    </div>
    <div class="mb-3">
      <label for="ingredients-field" class="text-capitalize mb-2">ingredients:</label>
      <input
        type="text"
        class="form-control"
        id="ingredients-field"
        placeholder="ingredients..."
        formControlName="ingredients"
      />
      @if(recipeForm.controls['ingredients'].invalid && recipeForm.controls['ingredients'].touched){
      <p class="text-danger fw-bold ms-1">ingredients is not valid</p>
      }@else if (recipeForm.controls['ingredients'].valid && recipeForm.controls['ingredients'].touched) {
      <p class="text-success">ingredients is valid</p>
      }
    </div>

    <!-- <div formArrayName="ingredients">
      <div *ngFor="let ingredient of recipeForm.get('ingredients')?.controls; let i = index" [formGroupName]="i">
        <input formControlName="name" placeholder="Ingredient Name" />
        <input formControlName="quantity" placeholder="Quantity" />
        <input formControlName="measurement_unit" placeholder="Measurement Unit" />
      </div>
    </div> -->
    
    <!-- <button (click)="addIngredient()">Add Ingredient</button> -->
    <div class="form-buttons">
      <button type="submit" class="btn fw-bold text-capitalize text-light mt-4 px-4 py-2 ">
        add
      </button>
      <a routerLink="/profile" class="btn btn-outline-dark fw-bold text-capitalize mt-4 ms-4 px-4 py-2 ">cancel</a>
    </div>
   </form>
</div>
